# JobDSL設定ファイル - AI Workflow専用

# 共通設定
common-settings:
  # Jenkinsパイプラインリポジトリ設定
  jenkins-pipeline-repo:
    url: 'https://github.com/tielec/ai-workflow-agent'
    credentials: 'github-app-credentials'
    branch: '*/main'

# AI Workflow専用ジョブ定義
jenkins-jobs:
  # AI Workflow Jobs（新しいジョブ構成）
  # 注意: これらのジョブはai-workflow-agentリポジトリのJenkinsfileを使用するため
  # skipJenkinsfileValidation: true を設定してローカル存在チェックをスキップ
  ai_workflow_all_phases_job:
    name: 'all_phases'
    displayName: 'All Phases Execution'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_all_phases_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_preset_job:
    name: 'preset'
    displayName: 'Preset Execution'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_preset_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_single_phase_job:
    name: 'single_phase'
    displayName: 'Single Phase Execution'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_single_phase_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_rollback_job:
    name: 'rollback'
    displayName: 'Rollback Execution'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_rollback_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_auto_issue_job:
    name: 'auto_issue'
    displayName: 'Auto Issue Creation'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_auto_issue_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_auto_close_issue_job:
    name: 'auto_close_issue'
    displayName: 'Auto Close Issue'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_auto_close_issue_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/auto-close-issue/Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_rewrite_issue_job:
    name: 'rewrite_issue'
    displayName: 'Rewrite Issue'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_rewrite_issue_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/rewrite-issue/Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_split_issue_job:
    name: 'split_issue'
    displayName: 'Split Issue'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_split_issue_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/split-issue/Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_validate_credentials_job:
    name: 'validate_credentials'
    displayName: 'Validate Credentials'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_validate_credentials_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/validate-credentials/Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_finalize_job:
    name: 'finalize'
    displayName: 'Finalize Execution'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_finalize_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_pr_comment_execute_job:
    name: 'pr_comment_execute'
    displayName: 'PR Comment Execute'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_pr_comment_execute_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_pr_comment_finalize_job:
    name: 'pr_comment_finalize'
    displayName: 'PR Comment Finalize'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_pr_comment_finalize_job.groovy
    jenkinsfile: Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_ecr_build_job:
    name: 'ecr_build'
    displayName: 'ECR Image Build'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_ecr_build_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/ecr-build/Jenkinsfile
    skipJenkinsfileValidation: true

  ai_workflow_resolve_conflict_job:
    name: 'resolve_conflict'
    displayName: 'Resolve Conflict'
    dslfile: jenkins/jobs/dsl/ai-workflow/ai_workflow_resolve_conflict_job.groovy
    jenkinsfile: jenkins/jobs/pipeline/ai-workflow/resolve-conflict/Jenkinsfile
    skipJenkinsfileValidation: true
