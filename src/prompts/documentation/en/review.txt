# Documentation update phase - review prompt

## Review target

### Documentation update log
{documentation_update_log_path}

### Updated project documentation
(check updated documents during review)

### Deliverables for each phase (reference)
- Phase 1: {requirements_document_path}
- Phase 2: {design_document_path}
- Phase 3: {test_scenario_document_path}
- Phase 4: {implementation_document_path}
- Phase 5: {test_result_document_path}

## ⚠️ Notes when using Read tool (prompt length suppression)
- `CLAUDE.md` (repository root) and `~/.claude/CLAUDE.md` has already been automatically read by Claude Code, so do not reread it with the Read tool.
- Even if additional reading is required for review confirmation, limit reading to **3-5 files or less**, and limit large files to partial reading by specifying `limit: 1000-2000`

## Quality gate (Phase 6: Documentation）

Document updates must pass the following quality gates:

- [ ] **Affected documents are identified**
- [ ] **Required documents are updated**
- [ ] **Updates are recorded**

## ⚠️ Important: Check against Planning Phase checklist (required)

### 1. Load Planning.md

Please load the following file:
- {planning_document_path}

### 2. Extract the checklist for the relevant phase

From Planning.md, find the section for the current phase ("### Phase 7:" or "## Phase 7:") and extract the task checklist.

**Note**: If you can't find the checklist, please skip this check.

### 3. Check with document update contents

Check whether each task has been completed by checking against the document update log (documentation.md).

**Completion criteria**:
- Has the document file described in the Task been updated?
- Has the updated content in the Task been reflected?
- Are all subtasks completed?

### 4. Update Planning.md

Update the checkbox in planning.md based on the verification results:
- Completed tasks: `- [ ]` → `- [x]`
- Unfinished tasks: `- [ ]` Please use the

**Edit tool** to update the section for the relevant phase.

### 5. Reflection in review judgment

- **All tasks completed** (all `[x]`): PASS or PASS_WITH_SUGGESTIONS
- **There are incomplete tasks** (`[ ]` remains): FAIL
- List incomplete tasks in review feedback
- Explain specifically what is missing

**Example (feedback at FAIL)**:
```
## Planning Phase Checklist verification result: FAIL

The following tasks are incomplete:

- [ ] Task 7-2: Update README.md
- Missing: Description of new feature has not been added to README.md
- [ ] Task 7-3: API Specification Updates
- Missing: docs/api.md has not been updated

Please complete these tasks and resubmit.
```

### ⚠️ Important: Do not include the contents of Planning.md in the review results

Although it is necessary to load and match Planning.md, **Please do not include the full text of planning.md or the review contents of Planning Phase in the review results**.

Review results should only include the following:
- Evaluation of the document update log (documentation-update-log.md)
- Unfinished tasks found by checking against Planning.md (FAIL only)
- Improvement suggestions specific to document updates

Do not output the review details of the Planning Phase or the entire contents of planning.md.

## Review Attitude

Please conduct this review based on the ``**80 points is good enough**'' principle:

1. **Aim for good enough, not perfect**
- Not all documents need to be perfect
- Pass if key documents are updated
- Minor improvements should be noted as improvement suggestions

2. **Clearly distinguish between blockers and improvement suggestions**
- Blockers: Important documents have not been updated or the updates have been inappropriate
- Improvement suggestions: Suggestions for better documentation

3. **Practical and balanced judgment**
- User comfort is the priority
- Pass if major changes are documented

4. **Constructive feedback**
- In addition to pointing out deficiencies, present specific improvement proposals
- Also evaluate the positive points

## Review perspective

### 1. Completeness of document search (most important)- Are the .md files in the project comprehensively investigated?
- Are the .ai-workflow directories properly excluded?
- Are the inspected documents recorded in the update log?

### 2. Validity of the update decision

- Are the documents to be updated correctly identified?
- Are the reasons for determining that the documents do not need to be updated are valid?
- Are important changes overlooked?

### 3. Appropriateness of the update

- Are the existing style and format maintained?
- Are the changes concise and clear?
- Is the information accurate (consistent with Phases 2 and 4)?
- Is the information useful to users?

### 4. Quality of the update log

- Is the reason for the update clearly stated?
- Are the changes organized in bullet points?
- Is the reason for determining that no update is required?

## ⚠️ Most important: Quality gate is an absolute requirement

**Quality gate (3 items) is an essential requirement. If even one of the criteria is not met, the judgment will automatically be FAIL. **

- The quality gate is a "minimum standard that must be cleared" and there is no room for negotiation.
- The principle of "80 points is enough" applies to improvement proposals after meeting the quality gate.
- Proceeding to the next phase is not allowed without meeting the quality gate.

## Distinguishing between blockers (BLOCKER) and improvement proposals (SUGGESTION)

### Blocker (BLOCKER): A serious problem that prevents you from proceeding to the next phase

**Example of a blocker**:
- Project documentation has not been explored at all
- Documents that clearly need to be updated (README.md, etc.) have been overlooked
- The updated content significantly breaks the existing style
- There is a serious error in the updated content
- Update log does not exist or its content is insufficient

### Improvement suggestions (SUGGESTION): Items that should be improved before proceeding to the next phase

**Example of improvement suggestion**:
- Missing some minor document updates
- Explanation of updated contents can be made more detailed
- Minor improvements in format
- Improvement in update log expression

### Judgment rule

#### PASS (Pass)

PASS only if **all** below are met:
- ✅ **All three quality gates are met** (FAIL if there is any ×)
- ✅ No blocker
- ✅ Only minor improvement suggestions (or no improvement suggestions)

#### PASS_WITH_SUGGESTIONS (conditional pass)

PASS_WITH_SUGGESTIONS only if **all** below are met:
- ✅ **All three quality gates are met** (FAIL if there is any ×)
- ✅ No blockers exist- ✅ Proceed to the next phase, but there are improvements to consider

#### FAIL (Fail)

If any of the following** applies, FAIL:
- ❌ **Even one of the quality gates (3 items) is not met**
- ❌ One or more blockers exist

** Important: Quality gates are absolute requirements, and if even one is not met, it is an automatic FAIL. **

## Output format

Please output in the following format:

```markdown
## Quality gate evaluation

**⚠️ Important: Please explicitly judge PASS/FAIL for each item. If there is even one FAIL, the final judgment is automatically FAIL. **

- [x/ ] **Affected documents are identified**: **PASS / FAIL** - (Decision reason)
- [x/ ] **Required documents are updated**: **PASS / FAIL** - (Decision reason)
- [x/ ] **Updates are recorded**: **PASS / FAIL** - (Decision reason)

**Quality gate overall judgment: PASS / FAIL**
- PASS: All 3 items above are PASS
- FAIL: FAIL

**If the quality gate judgment is FAIL for any of the 3 items above, the final judgment will be FAIL automatically. **

## Detailed review

### 1. Completeness of document search

**Good points**:
- (Specific good points)

**Concerns**:
- (Describe any concerns)

### 2. Validity of update decisions

**Good points**:
- (Specific good points)

**Concerns**:
- (Describe any concerns)

### 3. Appropriateness of the update

**Good points**:
- (Specific good points)

**Room for improvement**:
- (Describe any suggestions for improvement)

### 4. Update log quality

**Good points**:
- (Specific good points)

**Room for improvement**:
- (Describe any improvement suggestions)

## Blocker (BLOCKER)

**Major problem that prevents you from proceeding to the next phase**

(described only if there is a blocker)
1. **(Blocker 1 title)**
- Problem: (Specific problem)
- Impact: (Why is it a problem)
- Countermeasure: (How to fix it)

## Improvement suggestion (SUGGESTION)

** Suggestion for updating the document better**

(Enter only if there is an improvement suggestion)
1. ** (Title of proposal 1) **
- Current status: (Current status)- Suggestion: (This will be better)
- Effect: (Effect of improvement)

## Overall evaluation

(Comprehensive evaluation of the entire document update)

**Main strengths**:
- (Summary of good points)

**Main improvement suggestions**:
- (Summary of improvement suggestions)

(Summary comment)

---
**Determination: PASS / PASS_WITH_SUGGESTIONS / FAIL**
```

**Important**: Be sure to clearly state the verdict in the above format on the last line.
