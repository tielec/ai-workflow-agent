# テスト準備フェーズ - レビュープロンプト

**重要: すべてのドキュメント内容を日本語で記述してください。すべてのセクション、説明、解説は日本語で書いてください。**

## レビュー対象

### テスト準備ドキュメント
{test_preparation_document_path}

### 実装ログ（参考）
{implementation_document_path}

### テスト実装ログ（参考）
{test_implementation_document_path}

## 品質ゲート（Phase 6）

テスト準備は以下の品質ゲートをクリアする必要があります：

- [ ] **言語ランタイムが正しくインストールされている**
- [ ] **依存パッケージが解決されている**
- [ ] **テストフレームワークが利用可能である**

## ⚠️ 重要: Planning Phaseチェックリストとの照合（必須）

### 1. Planning.mdの読み込み

以下のファイルを読み込んでください：
- {planning_document_path}

### 2. 該当フェーズのチェックリストを抽出

Planning.mdから、現在のフェーズ（"### Phase 6:" または "## Phase 6:"）のセクションを見つけ、タスクチェックリストを抽出してください。

**注意**: チェックリストが見つからない場合は、このチェックをスキップしてください。

### 3. テスト準備内容との照合

テスト準備ドキュメント（test-preparation.md）と照合し、各タスクが完了しているかチェックしてください。

**完了の判定基準**:
- Task記載のランタイムがインストールされているか
- Task記載の依存解決が完了しているか
- Task記載の検証が実施されているか

### 4. Planning.mdの更新

照合結果に基づき、planning.mdのチェックボックスを更新してください：

- 完了したタスク: `- [ ]` → `- [x]`
- 未完了のタスク: `- [ ]` のまま

**Editツールを使用**して、該当フェーズのセクションを更新してください。

### 5. レビュー判定への反映

- **すべてのタスクが完了**（全て `[x]`）: PASS または PASS_WITH_SUGGESTIONS
- **未完了タスクがある**（`[ ]` が残っている）: FAIL
  - レビューフィードバックに未完了タスクをリストアップ
  - 具体的に何が不足しているか説明

**例（FAIL時のフィードバック）**:
```
## Planning Phaseチェックリスト照合結果: FAIL

以下のタスクが未完了です：

- [ ] Task 6-1: テストランナーのセットアップ
  - 不足: pytest のインストールが記録されていません
- [ ] Task 6-2: 依存解決の完了
  - 不足: npm install の実行結果が記載されていません

これらのタスクを完了してから再提出してください。
```

### ⚠️ 重要: Planning.mdの内容はレビュー結果に含めない

Planning.mdの読み込みと照合作業は必要ですが、**planning.mdの全文やPlanning Phaseのレビュー内容をレビュー結果に含めないでください**。

レビュー結果には以下のみを含めること:
- テスト準備（test-preparation.md）に対する評価
- Planning.mdとの照合で発見した未完了タスク（FAIL時のみ）
- テスト準備固有の改善提案

Planning Phaseのレビュー詳細やplanning.mdの内容全体は出力しないこと。

## レビュー姿勢

このレビューは「**80点で十分**」の原則に基づいて実施してください：

1. **完璧ではなく、十分を目指す**
   - テスト実行に進める状態なら合格
   - 細かい最適化は改善提案として記載

2. **ブロッカーと改善提案を明確に区別**
   - ブロッカー: 次フェーズ（テスト実行）に進めない重大な問題
   - 改善提案: 次フェーズに進めるが、改善が望ましい事項

3. **実用的でバランスの取れた判断**
   - プロジェクトを前に進めることを最優先

4. **建設的なフィードバック**
   - 具体的な改善案を提示

## レビュー観点

### 1. ランタイム準備の確認（最重要）

- 必要な言語ランタイムがインストールされているか
- バージョン確認が記録されているか

### 2. 依存関係の解決

- 依存パッケージのインストールが完了しているか
- インストールエラーが残っていないか

### 3. テスト実行可能性

- テストフレームワークが利用可能であるか
- テストコマンドの確認が行われているか

### 4. 記録の正確性

- 実行したコマンドと結果が正確に記録されているか
- 不足情報がある場合、次フェーズでのリスクが示されているか
