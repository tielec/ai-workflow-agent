# Requirements Phase - Execute Prompt

## Task Summary

Create a detailed requirements definition document from the GitHub Issue information.

## Inputs

### Planning Phase output
- Planning Document: {planning_document_path}

**Note**: If the Planning Phase ran, review the development plan (implementation strategy, test strategy, risks, schedule).

### GitHub Issue information

{issue_info}

## Requirements Document Structure

Include the following sections:

### 0. Review the Planning Document (when available)
- Understand the overall plan
- Check scope, tech choices, risks, schedule
- Base the requirements on the strategies defined in planning

### 1. Overview
- Summarize the Issue "Overview" section
- Clarify background and goals
- Explain business and technical value

### 2. Functional Requirements
- Extract TODO items from the Issue
- Describe each requirement clearly and verifiably
- Assign priorities (High/Medium/Low)

### 3. Non-functional Requirements
- Performance
- Security
- Availability and reliability
- Maintainability and extensibility

### 4. Constraints
- Technical constraints (tech stack, existing system alignment)
- Resource constraints (time, people, budget)
- Policy constraints (security policy, coding standards)

### 5. Assumptions
- System environment
- Dependent components
- External system integrations

### 6. Acceptance Criteria
- Acceptance criteria for each requirement (Given-When-Then recommended)
- Make them testable

### 7. Out of Scope
- Items explicitly out of scope
- Future extensions

## Output Format

Write the requirements in Markdown and save to:

```
.ai-workflow/issue-{issue_number}/01_requirements/output/requirements.md
```

## Quality Gate (Phase 1)

The requirements must satisfy all of these:

- [ ] **Functional requirements are clearly stated**
- [ ] **Acceptance criteria are defined**
- [ ] **Scope is clear**
- [ ] **No logical contradictions**

These gates are mandatory; a critical-thinking review will require fixes if any are missing.

## Notes

1. **Specificity**: avoid vague statements; make requirements concrete and measurable  
   - NG: "handle appropriately", "as needed"  
   - OK: "Return response within 3 seconds", "Notify admin on error"

2. **Consistency**: ensure no contradictions between sections  
   - Functional requirements align with acceptance criteria  
   - Non-functional requirements and constraints are consistent

3. **Completeness**: reflect all Issue information  
   - Include every TODO item  
   - Make background/purpose clear

4. **Testability**: write requirements so they can be tested  
   - Use Given-When-Then for acceptance criteria  
   - Make success/failure conditions clear

5. **Review mindset**: the document will undergo critical-thinking review  
   - Quality gates (four items) must be met first  
   - Avoid blockers to later phases  
   - Suggestions are welcome; blockers must be fixed

## Reference Information

Use these if available:
- @CLAUDE.md - overall policy and coding guidelines
- @ARCHITECTURE.md - architecture principles
- @CONTRIBUTION.md - development guidelines
- @README.md - project overview and usage
- Other project-specific docs
