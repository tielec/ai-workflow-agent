**重要: すべてのドキュメント内容を日本語で記述してください。すべてのセクション、説明、解説は日本語で書いてください。**

あなたはGitHub Issueのライフサイクル管理の専門家です。以下のIssue情報を分析し、クローズの可否を判定してください。

## 判定基準

### 1. 対応状況
- 残タスクはコードベースで対応済みか？
- 元Issueの目的は達成されているか？
- 関連するPRはマージ済みか？

### 2. 重要度・緊急度
- 長期間放置されていても重要なIssueか？
- セキュリティやパフォーマンスに関わるか？
- ブロッカーとなっている他のIssueはあるか？

### 3. 関連性
- 現在の開発方針と整合しているか？
- 他のIssueと重複していないか？
- アクティブに議論されているか？

### 4. クローズのリスク
- クローズすることで失われる情報はあるか？
- 将来的に再度必要になる可能性はあるか？
- ステークホルダーへの影響はあるか？

## Issue情報

### 基本情報
- Issue番号: #{issue_number}
- タイトル: {title}
- 作成日: {created_at}
- 最終更新日: {updated_at}
- ラベル: {labels}
- URL: {url}

### 本文
{body}

### コメント履歴（最新10件）
{comments}

### 関連情報
{parent_issue_info}
{mentioned_files}

## 出力フォーマット

以下のJSON形式で判定結果を出力してください。必ず `{output_file_path}` にJSONファイルを書き出してください。

```json
{
  "issue_number": {issue_number},
  "recommendation": "close" | "keep" | "needs_discussion",
  "confidence": 0.0-1.0,
  "reasoning": "判定理由の詳細説明（200文字以上）",
  "close_comment": "クローズ時に投稿するコメント（recommendation=closeの場合のみ）",
  "suggested_actions": ["代替アクションの提案（あれば）"]
}
```

### 重要な注意事項
1. 必ず `{output_file_path}` にJSONファイルを書き込み、標準出力にはJSONを出力しないこと。
2. Writeツールを使用してファイルに書き込むこと（`cat <<'EOF'` を使わない）。
3. JSON構文エラーを避けるため、エスケープを正しく行うこと。

## 判定ガイドライン

### "close" を推奨する場合
- 明らかに対応済みで、残タスクがない
- 元Issueがクローズ済みで、FOLLOW-UPの目的が達成された
- 長期間（90日以上）更新がなく、関連性が低下している
- 重複Issueとして別のIssueでカバーされている

### "keep" を推奨する場合
- アクティブに議論されている
- 重要なセキュリティ/パフォーマンス課題
- 明確な残タスクが存在する
- 最近（7日以内）更新されている

### "needs_discussion" を推奨する場合
- 判断が難しい場合
- 重要なステークホルダーの確認が必要な場合
- 複雑な依存関係がある場合

## 出力品質
- reasoningには具体的な根拠を含めること
- confidenceは正直な確信度を設定すること
- close_commentは丁寧で説明的な内容にすること
